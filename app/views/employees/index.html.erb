<% provide(:title, 'Active Employees') %>
<h1>Active Employees</h1>

<%= render 'filter', :status => "active" %>

<table class="table table-striped">
	<thead>
  	<tr>
  		<th>Name</th>
  		<th>Email</th>
  		<th>Phone</th>
  		<th>&nbsp;</th>
  	</tr>
  </thead>
  <tbody>
  	<% @employees.each do |employee| %>
			<tr>
				<td><%= employee.name %><br /><span class="muted"><%= employee.job_title %></span></td>
				<td><%= employee.email %></td>
				<td><%= employee.phone %></td>
				<td>
					<% if allow? "employees", "edit" %>
						<%= link_to 'Edit', edit_employee_path(employee), :class => 'btn btn-mini', :id => "edit_#{employee.id}" %>
					<% end %>
					<% if allow? "employees", "inactivate" %>
						<%= link_to 'Inactivate', inactivate_employee_path(employee), :class => 'btn btn-mini btn-warning', :id => "inactivate_#{employee.id}" %>
					<% end %>
					<% if allow? "employees", "destroy" %>
						<%= link_to 'Delete', employee, method: :delete, confirm: "Delete?", :class => 'btn btn-mini btn-danger', :id => "delete_#{employee.id}" %>
					<% end %>
				</td>
			</tr>
		<% end %>
	</tbody>
</table>

<% unless @employees.length > 0 %>
	<div class="alert">No records found</div>
<% end %>

<div class="row">
	<div class="span2">
		<% if allow? "employees", "new" %>
			<%= link_to 'New', new_employee_path, :class => 'btn btn-mini btn-primary' %>
		<% end %>
	</div>
	<div class="span10">
		<%= will_paginate(class: 'pagination',
					previous_label: "&laquo;",
		    	next_label: "&raquo;"
				)%>
	</div>
</div>