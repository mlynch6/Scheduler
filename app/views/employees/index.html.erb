<% provide(:title, 'Active Employees') %>
<% provide(:header_current, 'Employees') %>

<h1>Active Employees</h1>

<div class="row">
	<div class="row text-center">
		<% if allow? "employees", "new" %>
			<%= new_button "Add Employee", new_employee_path %>
		<% end %>
	</div>
	
	<div class="row">
		<table class="table table-striped">
			<thead>
		  	<tr>
		  		<th>Name</th>
		  		<th>Role</th>
		  		<th style="width:105px;">&nbsp;</th>
		  	</tr>
		  </thead>
		  <tbody>
		  	<% @employees.each do |employee| %>
					<tr>
						<td><%= employee.name %></td>
						<td><%= employee.role %></td>
						<td>
							<% if allow? "employees", "show" %>
								<%= view_button nil, employee_path(employee), :class => 'btn-small', :id => "show_#{employee.id}" %>
							<% end %>
							<% if allow? "employees", "inactivate" %>
								<%= inactivate_button nil, inactivate_employee_path(employee), :class => 'btn-small', :id => "inactivate_#{employee.id}" %>
							<% end %>
							<% if allow? "employees", "destroy" %>
								<%= delete_button nil, employee, :class => 'btn-small', :id => "delete_#{employee.id}" %>
							<% end %>
						</td>
					</tr>
				<% end %>
			</tbody>
		</table>
	</div>

	<div class="row">
		<div class="span10">
			<%= will_paginate(class: 'pagination',
						previous_label: "&laquo;",
			    	next_label: "&raquo;"
					)%>
		</div>
	</div>

	<% unless @employees.length > 0 %>
		<div class="alert">No records found</div>
	<% end %>
</div>