<% provide(:title, 'All Locations') %>
<h1>All Locations</h1>

<%= render 'filter' %>

<table class="table table-striped">
	<thead>
  	<tr>
  		<th>Name</th>
  		<th>Status</th>
  		<th>&nbsp;</th>
  	</tr>
  </thead>
  <tbody>
  	<% @locations.each do |location| %>
			<tr>
				<td><%= location.name %></td>
				<td><%= active_bool_to_text(location.active) %></td>
				<td>
					<% if allow? "locations", "edit" %>
						<%= link_to 'Edit', edit_location_path(location), :class => 'btn btn-mini', :id => "edit_#{location.id}" %>
					<% end %>
					<% if allow? "locations", "destroy" %>
						<%= link_to 'Delete', location, method: :delete, confirm: "Delete?", :class => 'btn btn-mini btn-danger', :id => "delete_#{location.id}" %>
					<% end %>
				</td>
			</tr>
		<% end %>
	</tbody>
</table>

<% unless @locations.length > 0 %>
	<div class="alert">No records found</div>
<% end %>

<div class="row">
	<div class="span2">
		<% if allow? "locations", "new" %>
			<%= link_to 'New', new_location_path, :class => 'btn btn-mini btn-primary' %>
		<% end %>
	</div>
	<div class="span10">
		<%= will_paginate(class: 'pagination',
					previous_label: "&laquo;",
		    	next_label: "&raquo;"
				)%>
	</div>
</div>